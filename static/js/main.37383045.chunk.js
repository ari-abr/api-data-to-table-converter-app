(this["webpackJsonpastro-app1"]=this["webpackJsonpastro-app1"]||[]).push([[0],{16:function(e,t,n){},18:function(e,t,n){},22:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(1),a=n.n(r),l=n(8),i=n.n(l),o=(n(16),n(7)),c=n.n(o),u=n(9),h=n(2),d=n(3),j=n(5),b=n(4),f=(n(18),n(10)),p=n.n(f),O=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(h.a)(this,n),(s=t.call(this,e)).state={results:s.props.results},s}return Object(d.a)(n,[{key:"makeHeadings",value:function(){var e=this,t=this.state.results;if(t){console.log(t);var n,r=[];for(var a in t[0])r.push(a);return r.unshift("#"),n=r.map((function(t){return Object(s.jsx)("th",{className:"results-tr",children:Object(s.jsxs)("div",{className:"sorting-buttons",children:[Object(s.jsx)("p",{children:t}),Object(s.jsxs)("div",{className:"sorting-buttons-column",children:[Object(s.jsx)("button",{onClick:function(){return e.sortBodies(t,"increase")},children:Object(s.jsx)("i",{className:"fas fa-chevron-up"})}),Object(s.jsx)("button",{onClick:function(){return e.sortBodies(t,"decrease")},children:Object(s.jsx)("i",{className:"fas fa-chevron-down"})})]})]})},Math.random())})),Object(s.jsx)("tr",{children:n})}return Object(s.jsx)("tr",{children:Object(s.jsx)("td",{children:"Results not found"},Math.random())},Math.random())}},{key:"makeResults",value:function(){var e=this.state.results,t=[];if(e){for(var n=0;n<e.length;n++){var r=[];for(var a in r.push(Object(s.jsx)("td",{children:n+1},Math.random())),e[n]){var l,i;if(Array.isArray(e[n][a])){var o=[];for(var c in e[n][a]){var u=JSON.stringify(e[n][a][c]);o.push(u)}l=o.join("\n").replaceAll("{","").replaceAll("}","").replaceAll('"'," ").replaceAll(",","\n").replaceAll("_"," ")}else if(!1===Array.isArray(e[n][a])&&null!==e[n][a]&&""!==e[n][a]){l=String(JSON.stringify(e[n][a])).replaceAll('"'," ").replaceAll("{","").replaceAll("}","")}else null!==e[n][a]&&"undefined"!==e[n][a]&&""!==e[n][a]||(l="---");if(l.length>40){var h=l.substr(0,15)+"...";i=Object(s.jsxs)(p.a,{className:"collapsible",trigger:h,children:["$",l]})}else i=l;r.push(Object(s.jsx)("td",{children:i},Math.random()))}t.push(Object(s.jsx)("tr",{children:r},Math.random()))}return Object(s.jsx)("tbody",{className:"results-tbody",children:t})}return Object(s.jsx)("tbody",{children:Object(s.jsx)("tr",{children:Object(s.jsx)("td",{children:"Results not found"},Math.random())},Math.random())})}},{key:"sortBodies",value:function(e,t){for(var n,s,r=this,a=e,l=t,i=this.state.results,o=i,c=0;c<i.length;c++){for(var u=c,h=c+1;h<i.length;h++){if(null==o[u][a]||null==o[h][a])n="0",s="0";else if("string"===typeof o[u][a]&&o[u][a].length<10)n=o[u][a].charAt(0),s=o[h][a].charAt(0);else if(Object.keys(o[u][a]).length>0&&Object.keys(o[h][a]).length>0){var d=[],j=[];for(var b in o[u][a])d.push(o[u][a][b]);for(var f in o[h][a])j.push(o[h][a][f]);n=d.join(),s=j.join()}else n=o[u][a],s=o[h][a];"increase"===l&&s<n&&(u=h),"decrease"===l&&s>n&&(u=h)}var p=o[c];o[c]=o[u],o[u]=p}this.setState({results:o},(function(){return console.log(r.state.results)}))}},{key:"render",value:function(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("p",{children:"Results"}),Object(s.jsx)("button",{className:"button-csv",children:"Download Table as CSV"}),Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{className:"table-heading",children:this.makeHeadings()}),this.makeResults()]})]})}}]),n}(r.Component),v=function(e){Object(j.a)(n,e);var t=Object(b.a)(n);function n(e){var s;return Object(h.a)(this,n),(s=t.call(this,e)).state={isOn:!1,option:"",results:[]},s}return Object(d.a)(n,[{key:"getResults",value:function(e){var t=this;if(null!==e){var n=document.querySelector(".input-link").value;console.log("api url "+n),this.fetchResults(n,e)}else null===e&&this.setState({option:e},(function(){return console.log(t.state.option)}))}},{key:"fetchResults",value:function(){var e=Object(u.a)(c.a.mark((function e(t,n){var s=this;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t,n),e.next=3,fetch(t).then((function(e){return e.json()})).then((function(e){console.log("res "+e);var t=s.findResultsArray(e);s.setState({results:t},(function(){return console.log(s.state.results)}))})).catch((function(e){console.log("Error: "+e),s.setState({results:null},(function(){return console.log(s.state.results)}))}));case 3:this.setState({option:n},(function(){return console.log(s.state.option)}));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"findResultsArray",value:function(e){var t=e;if(console.log(t),!0===Array.isArray(t))return t;var n=[],s=[];for(var r in t)console.log(r),!0===Array.isArray(t[r])&&(s=t[r],console.log(s),s.length>n.length&&(n=t[r]));return n}},{key:"toggle",value:function(e){var t=this;!0===this.state.isOn?(this.setState({isOn:!1},(function(){return console.log("isOn: "+t.state.isOn)})),this.setState({option:null},(function(){return console.log(t.state.option)}))):(this.setState({isOn:!0},(function(){return console.log("isOn: "+t.state.isOn)})),this.getResults(e))}},{key:"copyLinkText",value:function(e){document.getElementById(e).select(),document.execCommand("copy")}},{key:"render",value:function(){var e=this;return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)("div",{className:"frame",children:[Object(s.jsx)("h1",{children:"JSON to Table"}),Object(s.jsx)("h4",{children:"Easy JSON"}),Object(s.jsx)("p",{children:"JSON (JavaScript Object Notation) is a popular data format that is commonly used in APIs. This tool makes processing data from API requests easier. It receives JSON data from an API request and displays it in a table, allowing searching and sorting the data as well as exporting the table into downloadable CSV and Excel format."}),Object(s.jsx)("p",{children:"Copy and paste an API request below:"}),Object(s.jsx)("h4",{children:"Try these requests:"}),Object(s.jsxs)("ol",{children:[Object(s.jsxs)("li",{children:[Object(s.jsx)("textarea",{cols:"50",rows:"2",readOnly:!0,value:"https://api.nasa.gov/neo/rest/v1/neo/browse?api_key=DEMO_KEY",id:"link1"}),Object(s.jsx)("button",{onClick:function(){return e.copyLinkText("link1")},children:"Copy"})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("textarea",{cols:"50",rows:"2",readOnly:!0,value:"https://api.nasa.gov/DONKI/CME?startDate=yyyy-MM-dd&endDate=yyyy-MM-dd&api_key=DEMO_KEY",id:"link2"}),Object(s.jsx)("button",{onClick:function(){return e.copyLinkText("link2")},children:"Copy"})]}),Object(s.jsxs)("li",{children:[Object(s.jsx)("textarea",{cols:"50",rows:"2",readOnly:!0,value:"https://api.le-systeme-solaire.net/rest/bodies/",id:"link3"}),Object(s.jsx)("button",{onClick:function(){return e.copyLinkText("link3")},children:"Copy"})]})]}),Object(s.jsxs)("form",{children:[Object(s.jsx)("input",{type:"text",className:"input-link"}),Object(s.jsx)("button",{onClick:function(){return e.toggle("option")},children:"Search"})]}),Object(s.jsx)("div",{className:"results",children:"option"===this.state.option&&!0===this.state.isOn&&Object(s.jsx)(O,{results:this.state.results})})]})})}}]),n}(r.Component),x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,23)).then((function(t){var n=t.getCLS,s=t.getFID,r=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),s(e),r(e),a(e),l(e)}))};i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(v,{})}),document.getElementById("root")),x()}},[[22,1,2]]]);
//# sourceMappingURL=main.37383045.chunk.js.map